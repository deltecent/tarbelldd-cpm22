CONTENTS OF PUBLIC DOMAIN DISK #2      May 2, 1980

      This is a disk which is regularly updated with our latest ABIOS
and 2ABIOS for the Tarbell Double Density Floppy Disk Interface.
Other utilities are also maintained on this disk, such as format and
test routines. We also had room to include the source for the FORTH
language from the Forth Interest Group. Their name and address are
included on the .ASM file. Following is a short description of each
file. For further information, see the comments in the file itself,
or the Tarbell CP/M User's Guide. The latest version of this disk is
always available within 1 week from Tarbell for $15. If you are
having problems, it's always wise to see if there is a newer version
of this disk available than the one you have.

1. DBOOT24.ASM

      THIS IS THE SAME AS THE NORMAL SBOOT PROGRAH USED IN SINGLE
DENSITY, WITH THE EXCEPTION OF A DENSITY CONDITIONAL STATEMENT. AT
THE PRESENT TIME SETTING THIS EQU TO EITHER TRUE OR FALSE WILL MAKE NO
DIFFERENCE TO THE BOOTING OPERATION. THE REASON IT IS THERE IS FOR
DOING AUTO-DENSITY SELECTION DURING BOOTING.

2. DDUMP.ASM & DDUMP.COM

      THIS IS A MODIFIED DUMP.COM FROM SAM SINGER AND FROM THE CP/M
USERS GROUP. THIS PROGRAM WILL ALLOW YOU TO VIEW ONLY TRACKS 2 - 76 OF
A DOUBLE DENSITY DISK. THE ONLY LIMITATION IN THE PROGRAH IS THAT IT
WILL NOT DUMP BY GROUP NUMBERS. ALL OTHER FEA TURES ARE USEABLE.

3. DFORMAT.ASM & DFORMAT.COM

      THIS PROGRAM IS THE DOUBLE DENSITY FORMAT PROGRAM. IT WILL
FORHAT THE DISK IN MANY WAYS DEPENDING ON WHICH EQU'S YOU SET TRUE OR
FALSE.
For example:
       SETTING TRK1SD = TRUE,
FORMATS TRACK 0 AND 1 SINGLE DENSITY
       TRACK 2  - 76 DOUBLE DENSITY.
OR
       SETTING TRK1DD = TRUE,
FORMATS TRACK 0    IN SINGLE DENSITY.
       TRACKS 1 - 76 DOUBLE DENSITY.

                             *** NOTE ***
      ONLY ONE (1), TRK1SD OR TRK1DD MAY BE TRUE AT A TIME. THE SKEW
FACTOR IS EASILY CHANGEABLE IN THE DFORMAT PROGRAM TO ALLOW FOR
OPTIMIZING DISK SPEED.

      A SIDE SELECT IS ONLY SUPPORTED BY CHANGING YOUR DRIVE SELECT
IF YOU HAVE DOUBLE SIDED, FORMATTING SIDE B WITH THE DFORMAT PROGRAM
MAY OR MAY NOT WORK FOR YOU.

4. DTEST.ASM & DTEST.COM

      THIS PROGRAM IS USED TO TEST A DOUBLE DENSITY DISK FOR ERRORS.
WHEN THE PROGRAM FIRST COMES UP IT WILL ASK YOU FOR A "TITLE:". YOU
MAY TYPE IN ANYTH ING YOU WANT SUCH AS <FORMATTED WITH 62.5 NSEC, 187.5
NSEC> AND THEN A CNTL-P, CARRIAGE RET, OR IF YOU DON'T WANT TO TYPE
ANYTHING, JUST TYPE A CARRIAGE RET. THE TITLE ALLOWS YOU TO KEEP A
RUNNING TAB ON THE ERRORS AND USING CNTL-P WILL TURN ON THE LIST
DEVICE FOR MAKING A HARDCOPY LISTING. THE NEXT QUESTION WILL BE
STARTING TRACK. YOU MUST ANSWER THIS WITH A TRACK NUMBER OF 0 OR
GREATER. THE REST OF THE PROGRAM SHOULD BE CLEAR. THIS PROGRAM READS
A TRACK AT A TIME AND KEEPS A RUNNING TAB OF ERRORS FOUND. DURING THE
READING OF THE TRACK, IFA SECTOR IS BAD IT WILL DISPLAY THE SECTOR
NUMBER AND THE NUMBER OF RETRYS IT TOOK TO READ IT. IT SHOULD BE NOTED
THAT IT WILL DO 11 RETRYS MAX, AND THEN GO ON TO THE NEXT SECTOR. IF
IT TAKES MORE THAN 10 RETRYS, THEN YOU SHOULD REFORMAT THE DISK AND
CHECK IT AGAIN, AS OUR DBIOS ONLY DOES 10 RETRYS BEFORE INDICATING A
FAILURE. RETRYS ON THE ORDER OF 1 TO 5 IS TYPICAL, IF THEY OCCUR AT
ALL, WITH THIS INTERFACE. THIS PROGRAM DOES NOT WRITE ON THE DISK, IT
IS READ ONLY.

5. FORMAT.ASM & FORMAT.COM

      IF YOU ARE USING OUR OLD SINGLE DENSITY FORMAT PROGRAM, YOU WILL
NOT BE ABLE TO READ THEM ON THE NEW INTERACE IN SINGLE DENSITY. THIS
IS BECAUSE THERE IS A BYTE IN THE INNER RECORD GAPS THAT THE 1771 WILL
READ BUT THE 1791 / 1793 WON'T. THIS FORMAT PROGRAM FIXES THAT PROBLEM
FOR BOTH THE 1791/1793 AND WILL STILL ALLOW YOU TO USE IT WITH YOUR
PRESENT 1771 CONTROLLER ALSO. YOU SHOULD DESTROY AND OLD COPIES OF THE
OLD FORMAT PROGRAM YOU HAVE, AND USE THIS ONE FROM HERE ON OUT.

                             *** NOTE ***

      THIS FORMATS SINGLE DENSITY ONLY, 26 SECTORS OF 128 BYTES AND
ONLY RUNS ON THE NEW CONTROLLER BOARD.

6. FORMAT91.ASM & FORMAT91.COM

      This program will only run on the single-density interface. It
will format disks in standard IBM single-density format, to read
correctly on the double density interface.

7. DFRAND.ASM

      This is another format program, which only runs on the
double-density interface, and which formats disks double-density in a
random format. This is very useful to use in conjunction with the
DTEST program, while setting up precomp. It gives a more realistic
representation of the way that data may be present on the disk. Do
NOT use this program to format disks that are to be used next with
CP/M, as the directory needs to be filled with E5's.

8. MACRO.LIB & SKEW.LIB

      THIS LIBRARY IS NECESSARY IF YOU HAVE DIGITALS MACRO ASSEMBLER
AND WISH TO CHANGE AND ASSEMBLE DDUMP.ASM AND DTEST.ASM. THESE
PROGRAMS USE MACROS.

9. STAT.COM (FOR CPM V1.4 ONLY)

      THIS IS AN UPDATED VERSION OF THE STAT PROGRAM FOR THE ORIGINAL
DISTRIBUTION. IT FUNCTIONS THE SAME AS THE OLD ONE. THE ONLY
INPROVEMENT WAS TO MAKE IT DISPLAY THE CORRECT CAPACITY OF A DOUBLE
DENSITY DISK. IT WILL STILL WORK SINGLE DENSITY.

10. ABIOS24.ASM
      THIS IS THE AUTO-DENSITY SELECT VERSION OF THE BIOS FOR CPM V1.4.
THIS BIOS WILL AUTOMATICALLY SELECT THE DENSITY OF THE DISK YOU
ARE USING IN EITHER DRIVE, AND WILL ALLOW YOU TO CHANGE THE DENSITY AT
ANY TIME. IF YOU ARE GOING TO CHANGE THE DENSITY OF THE "A" DRIVE,
YOU MUST HAVE A DISK WITH THE SAME SYSTEM SIZE AS THE ONE YOU REMOVED.
FILE TRANSFERS FROM SINGLE TO DOUBLE OR DOUBLE TO SINGLE IS COMPLETELY
AUTOMATIC. YOU MUST SET DOUBDEN = TRUE IN THE DBOOT24.ASM FILE BEFORE
YOU USE THE AUTO-DENSITY CAPABILITY OF ABIOS24.ASM, AS THIS IS THE
ONLY WAY THE PROGRAM KNOWS IT IS LOOKING FOR A DOUBLE DENSITY DISK IN
ANY DRIVE.

11. 2ABIOS24.ASM

      THIS IS THE AUTO-DENSITY SELECT VERSION FOR CPIM V2.x AND THE NEW
INTERFACE. THIS BIOS MUST BE USED WITH 2DBOOT24.ASM TO BRING UP THE
SYSTEM. PLEASE NOTE THAT 2ABIOS24 AND 2DBOOT24 ARE ONLY FOR CPM V2.x
AND WILL NOT RUN ON CPM V1.4 OR CONVERSELY. THIS BIOS IS SHIPPED
READY TO RUN IN THE AUTO SELECT MODE. YOU MAY CHANGE THIS AFTER YOU
GET A RUNNING SYSTEM SO THAT IT NILL NOT RUN AUTO SELECT BY SETTING
DOUBDEN = FALSE. YOU MAY ALSO DEFEAT THE DMA PORTION BY SETTING
DMACNTL = FALSE, WHICH WILL ALLOW THE BIOS TO RUN IN PROGRAH DATA
TRANSFER.

                             *** NOTE ***

      YOU MUST SET DMACNTL = TRUE AND DOUBDEN = TRUE IF AUTO DENSITY
SELECT IS NEEDED AND YOU WILL BE RUNNING DOUBLE DENSITY at 2 MHz.

12. 2DBOOT24.ASM

      THIS IS THE SECONDARY COLD START LOADER FOR CPM V2.x FOR USE
WITH 2ABIOS24.ASM. SEVERAL EQU'S APPEAR IN THIS LOADER. DMACNTL -
SETTING THIS TRUE WILL ALLOW THE PROGRAM TO BOOT IN THE SYSTEM USING
DMA CONTROL. IF FALSE, BOOTS SYSTEM UNDER PROGRAM DATA TRANSFER.
DOUBDEN - SETTING THIS TRUE PUTS THE SPECIAL ID BYTE INTO THE DISK
DURING GENERATION OF A DOUBLE DENSITY SYSTEM DISK THAT WILL BE BOOTED
IN FROM DRIVE 'A'. SETTING THIS FALSE ALLOWS BUILDING A SYSTEM ON A
SINGLE DENSITY DISK. THIS BYTE IS HOW THE SYSTEM KNOWS WHETHER OR NOT
A SINGLE OUR DOUBLE DENSITY IS ON THE LINE.

                             **** NOTE-****

      IF YOU HAVE TROUBLE READING A SINGLE DENSITY DISK ON THIS
CONTROLLER, YOU MAY HAVE A DISK WITH THE WRONG SECTOR FORMATTING. TO
FIND OUT, TAKE ANOTHER DISK AND USE THE NEW FORMAT.COM FILE ON THIS
DISK TO REFORMAT IT. THEN USING YOUR OLD CONTROLLER, TRANSFER ALL THE
PROGRAMS YOU WISH TO SAVE FROM THE DISK THAT WOULD NOT RUN ON THE NEW
CONTROLLER BOARD TO THE NEWLY FORMATTED DISK. WE REALIZE THAT TH1S IS
ALSO A REAL HASSEL TOO, BUT IT IS A NECESSARY EVIL. BESIDES, THE NEW
FORHATTED DISK WILL STILL WORK WITH THE OLD CONTROLLER BOARD.

                             *** NOTE ***

      IF ALL ELSE FAILS, EVEN AFTER READING THE DIRECTIONS, FEEL FREE
TO CALL ME HERE AT TARBELL ELECTRONICS. AND IF YOU WOULD LIKE TO
DISCUSS ANYTHING ABOUT THE BOARD OR SOFTWARE, CALL ME.

      THANKS FOR INPUTS AND OUTPUTS ON THIS PRODUCT AND HOPE YOU WILL
FIND THIS PRODUCT BOTH INFORMATIVE AND FUN TO WORK WITH.

                                                GERALD.W.MULCHIN
                                                ENGINEERING DEPT.
                                               TARBELL ELECTRONICS
                                                  213 538 4251

